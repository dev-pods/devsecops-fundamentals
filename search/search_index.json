{"config":{"lang":["pt"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"GitHub DevSecOps Fundamentos | Workshop","text":"<p>Este workshop autoguiado permitir\u00e1 que voc\u00ea adquira as capacidades necess\u00e1rias para implementar uma mentalidade DevSecOps, aproveitando a plataforma GitHub para uma experi\u00eancia de desenvolvedor sem complica\u00e7\u00f5es.</p> <p></p> Plataforma GitHub"},{"location":"#objetivos-de-aprendizagem","title":"Objetivos de Aprendizagem","text":"<ul> <li> Colaborar de forma eficaz para alta produtividade</li> <li> Aplicar seguran\u00e7a preventiva em todos os aspectos do processo de desenvolvimento</li> <li> Implementar uma cadeia de suprimentos de software segura</li> <li> Automatizar o lan\u00e7amento de produtos e processos de neg\u00f3cios em geral</li> <li> Eliminar complica\u00e7\u00f5es devido ao excesso de ferramentas</li> </ul> <p>  Complete a lista de verifica\u00e7\u00e3o de  Pr\u00e9-requisitos!</p>"},{"location":"#recursos","title":"\ud83d\udcda Recursos","text":"<p>Obtenha facilita\u00e7\u00e3o especializada do workshop...</p> <p>Este workshop dispon\u00edvel publicamente \u00e9 limitado para permitir que voc\u00ea aprenda com a pesquisa que o acompanha. Ele n\u00e3o aborda conceitos em escala empresarial.</p> <p>Entre em contato \ud83d\udce7 services@github.com para se beneficiar mais de uma facilita\u00e7\u00e3o de workshop pelos servi\u00e7os especializados do GitHub para apoiar o avan\u00e7o da implementa\u00e7\u00e3o de DevSecOps na sua organiza\u00e7\u00e3o.</p> <ul> <li>Planejamento de projetos para desenvolvedores</li> <li>Comece a programar instantaneamente com Codespaces</li> <li>Automatize seu fluxo de trabalho da ideia \u00e0 produ\u00e7\u00e3o</li> <li>Seguran\u00e7a em cada etapa</li> <li>Seus pacotes, em casa com seu c\u00f3digo</li> </ul>"},{"location":"prerequisites/","title":"Pr\u00e9-requisitos","text":"<p>Prepare-se antes do workshop</p> <p>Para garantir uma experi\u00eancia sem problemas no workshop, complete os itens da lista de verifica\u00e7\u00e3o na ordem.</p>"},{"location":"prerequisites/#configure-uma-conta-github","title":"Configure uma conta GitHub","text":"<p>Fa\u00e7a login na sua conta GitHub.</p> <p>Voc\u00ea pode criar uma nova conta GitHub, se ainda n\u00e3o tiver uma. (1)</p> <ol> <li> Clicar no bot\u00e3o abaixo abrir\u00e1 a p\u00e1gina em uma nova aba, para voc\u00ea criar uma nova conta GitHub. Mantenha seu <code>@handle</code> (nome de usu\u00e1rio) \u00e0 m\u00e3o depois de fazer login.</li> </ol> <p> Criar uma nova conta GitHub</p> <p></p>"},{"location":"prerequisites/#clone-o-projeto-do-workshop-para-sua-propria-conta","title":"Clone o projeto do workshop para sua pr\u00f3pria conta","text":"<ol> <li> Criar projeto do workshop</li> <li> <p>Na nova aba, a maioria dos campos ser\u00e1 preenchida automaticamente e as configura\u00e7\u00f5es padr\u00e3o devem estar corretas. Caso contr\u00e1rio...</p> <ul> <li>Para propriet\u00e1rio, escolha sua conta pessoal.</li> <li> <p>Recomendamos criar um reposit\u00f3rio p\u00fablico. (1)</p> <ol> <li> <p> Reposit\u00f3rios p\u00fablicos se beneficiam de</p> <ul> <li>Uso gratuito dos minutos do GitHub Actions.</li> <li>Uso gratuito dos recursos do GitHub Advanced Security.</li> </ul> </li> </ol> </li> <li> <p>Role para baixo e clique no bot\u00e3o Create repository na parte inferior do formul\u00e1rio.</p> Expanda para visualizar exemplo... <p></p> </li> </ul> </li> <li> <p>Depois que a cria\u00e7\u00e3o do seu novo reposit\u00f3rio come\u00e7ar, aguarde cerca de 20 segundos e depois atualize a p\u00e1gina.</p> </li> </ol> <p></p>"},{"location":"prerequisites/#habilitar-discussoes","title":"Habilitar Discuss\u00f5es","text":"<ol> <li>No GitHub.com, navegue at\u00e9 a p\u00e1gina principal do seu novo reposit\u00f3rio.</li> <li>Abaixo do nome do reposit\u00f3rio, clique em  Settings.     </li> <li>Role para baixo at\u00e9 a se\u00e7\u00e3o \"Set up discussions\" e clique em Set up Discussions</li> </ol>"},{"location":"prerequisites/#configurar-seguranca-basica","title":"Configurar seguran\u00e7a b\u00e1sica","text":"<ol> <li>Navegue at\u00e9 a aba  Configura\u00e7\u00f5es no seu novo reposit\u00f3rio do workshop.</li> <li> <p>Na se\u00e7\u00e3o \"Seguran\u00e7a\" do menu, selecione  Advanced Security. Em seguida, configure as configura\u00e7\u00f5es para corresponder conforme a seguir (clicando em Enable onde a op\u00e7\u00e3o estiver/se tornar dispon\u00edvel).</p> <p>Guia para configura\u00e7\u00f5es adicionais...</p> <ul> <li> <p>Atualiza\u00e7\u00f5es de vers\u00e3o do Dependabot</p> <p>Ao habilitar, voc\u00ea ser\u00e1 solicitado a editar o arquivo de configura\u00e7\u00e3o <code>.github/dependabot.yml</code>. Simplesmente navegue de volta no seu navegador ou clique em Cancelar altera\u00e7\u00f5es para sair do prompt e continuar a configura\u00e7\u00e3o de seguran\u00e7a b\u00e1sica.</p> </li> <li> <p>An\u00e1lise CodeQL</p> <ol> <li>A partir de Configurar, selecione a op\u00e7\u00e3o Padr\u00e3o.       </li> <li>Deixe as configura\u00e7\u00f5es padr\u00e3o no prompt que segue e simplesmente clique em Habilitar CodeQL para continuar.</li> </ol> </li> <li> <p>Regras de prote\u00e7\u00e3o</p> <p>Selecione a configura\u00e7\u00e3o conforme mostrado abaixo.   </p> </li> </ul> </li> </ol> <p></p>"},{"location":"prerequisites/#registrar-um-aplicativo-github","title":"Registrar um aplicativo GitHub","text":"<ol> <li>No canto superior direito de qualquer p\u00e1gina no GitHub, clique na sua foto de perfil.</li> <li>Navegue at\u00e9 as suas  Settings da conta.</li> <li>Na barra lateral esquerda, clique em  Developer settings.</li> <li>Na barra lateral esquerda, clique em  GitHub Apps</li> <li> <p>Clique em Novo aplicativo GitHub</p> <p>Forne\u00e7a os valores dos campos do formul\u00e1rio da seguinte forma</p> <pre><code>GitHub App name..: &lt;SEU-HANDLE&gt;-bot\n\nHomepage URL......: https://github.com/&lt;SEU-HANDLE&gt;/github-devsecops-fundamentals\n\nWebhook\n  Active...................: DESMARCAR\n\nPermiss\u00f5es do reposit\u00f3rio\n  Actions...............: Read and write\n  Administration........: Read and write\n  Contents..............: Read and write\n  Deployments...........: Read and write\n  Discussions...........: Read and write\n  Environments..........: Read and write\n  Pages.................: Read and write\n\nOnde este aplicativo GitHub pode ser instalado?\n  Any account .................: SELECIONAR\n</code></pre> </li> <li> <p>Gere uma chave privada para o novo aplicativo GitHub conforme documentado em  aqui.</p> </li> <li> <p>Salve a chave privada do aplicativo GitHub nos segredos do seu novo reposit\u00f3rio com o nome <code>APP_PRIVATE_KEY_ACTIONS_ASSISTANT</code>.</p> <p>\ud83d\udc40 Criando segredos para um reposit\u00f3rio.</p> </li> <li> <p>Salve o <code>appid</code> do aplicativo GitHub nas vari\u00e1veis do seu novo reposit\u00f3rio com o nome <code>APP_ID_ACTIONS_ASSISTANT</code>.</p> <p>\ud83d\udc40 Criando vari\u00e1veis de configura\u00e7\u00e3o para um reposit\u00f3rio</p> </li> <li> <p>Acesse <code>https://github.com/apps/&lt;SEU-HANDLE&gt;-bot</code>. Instale o aplicativo no reposit\u00f3rio que voc\u00ea criou anteriormente.</p> Expanda para guia adicional e visualiza\u00e7\u00f5es de exemplo... <ol> <li></li> <li></li> <li></li> <li></li> </ol> </li> </ol> <p>Para que serve um aplicativo GitHub?</p> <p>Quando voc\u00ea usa o <code>GITHUB_TOKEN</code> do reposit\u00f3rio para realizar tarefas, os eventos acionados pelo <code>GITHUB_TOKEN</code>, com exce\u00e7\u00e3o de <code>workflow_dispatch</code> e <code>repository_dispatch</code>, n\u00e3o criar\u00e3o uma nova execu\u00e7\u00e3o de fluxo de trabalho. Isso evita que voc\u00ea crie acidentalmente execu\u00e7\u00f5es de fluxo de trabalho recursivas. Por exemplo, se uma execu\u00e7\u00e3o de fluxo de trabalho envia c\u00f3digo usando o <code>GITHUB_TOKEN</code> do reposit\u00f3rio, um novo fluxo de trabalho n\u00e3o ser\u00e1 executado mesmo quando o reposit\u00f3rio contiver um fluxo de trabalho configurado para ser executado quando ocorrerem eventos de push.</p> <p>Se voc\u00ea quiser acionar um fluxo de trabalho a partir de uma execu\u00e7\u00e3o de fluxo de trabalho, poder\u00e1 usar um token de acesso de instala\u00e7\u00e3o do aplicativo GitHub ou um token de acesso pessoal em vez do <code>GITHUB_TOKEN</code> para acionar eventos que exigem um token.</p> <p>Se voc\u00ea usar um aplicativo GitHub, precisar\u00e1 criar um aplicativo GitHub e armazenar o ID do aplicativo e a chave privada como segredos.</p> <p>~ Acionando um fluxo de trabalho a partir de um fluxo de trabalho</p> <p>Durante os exerc\u00edcios do workshop, voc\u00ea descobrir\u00e1 como o aplicativo GitHub \u00e9 usado para acionar a implanta\u00e7\u00e3o autom\u00e1tica de artefatos de lan\u00e7amento.</p> <p></p>"},{"location":"prerequisites/#criar-um-quadro-de-projeto-para-o-reposit\u00f3rio","title":"Criar um quadro de projeto para o reposit\u00f3rio","text":"<ol> <li> <p>Abra o reposit\u00f3rio do workshop rec\u00e9m-criado.</p> </li> <li> <p>Navegue at\u00e9 a guia  Projects.</p> </li> <li> <p>Clique no bot\u00e3o New Project  para iniciar o assistente de cria\u00e7\u00e3o de projeto.</p> </li> <li>Selecione o modelo  Kanban.</li> <li>D\u00ea um nome ao projeto</li> <li>Finalmente, clique no bot\u00e3o Create project.</li> </ol> <p></p>"},{"location":"prerequisites/#provisionar-um-novo-ambiente-de-desenvolvimento-em-nuvem-para-o-workshop","title":"Provisionar um novo ambiente de desenvolvimento em nuvem para o workshop","text":"<p>O GitHub Codespaces permite que voc\u00ea comece a codificar instantaneamente no projeto do workshop. Contas pessoais no GitHub podem se beneficiar de uma cota gratuita de uso do GitHub Codespaces.</p> <ol> <li> <p>Navegue at\u00e9 a guia  C\u00f3digo.</p> </li> <li> <p>Abra o menu  Code  e clique em  Create codespaces on main.</p> Expanda para visualiza\u00e7\u00e3o de exemplo... <p></p> </li> <li> <p>Deixe o ambiente de desenvolvimento Codespace inicializar e ser executado, voltaremos a us\u00e1-lo mais tarde.</p> <p></p>"},{"location":"exercises/","title":"Introdu\u00e7\u00e3o","text":"<p> Exerc\u00edcios do Workshop</p> <p>Os exerc\u00edcios do workshop fornecem orienta\u00e7\u00f5es para implementar o DevSecOps em n\u00edvel fundamental com a plataforma GitHub. Ao concluir, voc\u00ea ter\u00e1 adquirido a experi\u00eancia para implementar facilmente as capacidades do DevSecOps, como:</p> <ul> <li> Colabora\u00e7\u00e3o cont\u00ednua</li> <li> Planejamento cont\u00ednuo</li> <li> Integra\u00e7\u00e3o cont\u00ednua</li> <li> Entrega cont\u00ednua</li> <li> Qualidade cont\u00ednua</li> <li> Seguran\u00e7a cont\u00ednua</li> </ul> <p>Este site do workshop tamb\u00e9m serve como o produto que visaremos para desenvolvimento. Durante os exerc\u00edcios, voc\u00ea descobrir\u00e1 como pode construir e testar o site localmente de forma r\u00e1pida e implementar testes padronizados para permitir verifica\u00e7\u00f5es de qualidade automatizadas no site.</p>"},{"location":"exercises/#cenario-do-workshop","title":"Cen\u00e1rio do Workshop","text":"<p>Voc\u00ea est\u00e1 trabalhando em uma equipe que \u00e9 propriet\u00e1ria deste site, e um novo objetivo de neg\u00f3cio surgiu na vis\u00e3o da sua organiza\u00e7\u00e3o. Para aumentar o engajamento com o site...</p> <p>...o objetivo \u00e9 criar um Jogo de Tetris para encantar os visitantes do nosso site.</p> <p></p>"},{"location":"exercises/#marcos","title":"Marcos","text":"<p>Os objetivos do workshop ser\u00e3o entregues atrav\u00e9s da conclus\u00e3o dos seguintes marcos</p> <p></p> <ul> <li> <p> Colaborar</p> <p>Facilitar a integra\u00e7\u00e3o no projeto do site e permitir o desenvolvimento do projeto em alta velocidade para partes interessadas com diferentes n\u00edveis de experi\u00eancia com o projeto.</p> </li> <li> <p> Proteger a cadeia de suprimentos de software</p> <p>Implementar facilmente a seguran\u00e7a da aplica\u00e7\u00e3o e proteger a cadeia de suprimentos de software.</p> </li> <li> <p> Automatizar a Implanta\u00e7\u00e3o de Lan\u00e7amentos</p> <p>Entregar valor ao usu\u00e1rio final de forma confi\u00e1vel e em alta velocidade.</p> </li> </ul>"},{"location":"exercises/01.collaborate/","title":"Colaborar","text":"<p>Colabora\u00e7\u00e3o Cont\u00ednua</p> <p>A colabora\u00e7\u00e3o cont\u00ednua permite trabalhar juntos atrav\u00e9s de fronteiras t\u00e9cnicas e culturais como uma equipe unificada, reduzindo atritos e aumentando a velocidade para atingir objetivos comuns.</p>"},{"location":"exercises/01.collaborate/#objetivos","title":"Objetivos","text":"<p>Comportamentos que permitem enfrentar o desafio incluem:</p> <ul> <li> Facilitar o rastreamento da entrega de objetivos de neg\u00f3cio</li> <li> Permitir integra\u00e7\u00e3o r\u00e1pida ao desenvolvimento do projeto</li> <li> Fornecer uma valida\u00e7\u00e3o padronizada do trabalho realizado</li> <li> Permitir valida\u00e7\u00e3o colaborativa dos requisitos conclu\u00eddos</li> </ul>"},{"location":"exercises/01.collaborate/01/","title":"Gerenciamento de Projetos","text":"<p> Facilitar o rastreamento colaborativo da entrega de objetivos de neg\u00f3cio</p> <p>Como parte das etapas de pr\u00e9-requisitos, voc\u00ea criou um quadro de gerenciamento de projeto. Agora voc\u00ea construir\u00e1 a partir dessa etapa e manter\u00e1 as partes interessadas informadas durante todo o processo de desenvolvimento.</p> <p></p>"},{"location":"exercises/01.collaborate/01/#exercicio-criar-uma-issue-para-capturar-o-objetivo","title":"Exerc\u00edcio: Criar uma <code>issue</code> para capturar o objetivo","text":"<p>O que s\u00e3o Issues do GitHub?</p> <p>Use as Issues do GitHub para rastrear ideias, feedback, tarefas ou bugs para trabalho no GitHub.</p> <p>Quando voc\u00ea menciona uma issue em outra issue ou pull request, a linha do tempo da issue reflete a refer\u00eancia cruzada para que voc\u00ea possa acompanhar trabalhos relacionados. Para indicar que o trabalho est\u00e1 em andamento, voc\u00ea pode vincular uma issue a um pull request. Quando o pull request \u00e9 mesclado, a issue vinculada \u00e9 automaticamente fechada.</p>"},{"location":"exercises/01.collaborate/01/#consulte-novamente-o-projeto-criado-no-pre-requisito-para-o-workshop","title":"Consulte novamente o projeto criado no pr\u00e9-requisito para o workshop","text":""},{"location":"exercises/01.collaborate/01/#criar-uma-issue-para-capturar-o-objetivo","title":"Criar uma issue para capturar o objetivo","text":"<ol> <li>Identifique a coluna  Backlog</li> <li>Clique em + Add item na parte inferior da coluna</li> <li>Clique no bot\u00e3o +</li> <li>Selecione  Create new issue no menu</li> <li>Escolha o reposit\u00f3rio que voc\u00ea criou anteriormente</li> <li> <p>Escolha Feature request (1)</p> <ol> <li> <p>A cria\u00e7\u00e3o da issue foi facilitada com um \ud83d\udc40 modelo de issue.</p> .github/ISSUE_TEMPLATE/feature_request.md<pre><code>---\nname: Feature request\nabout: Suggest an idea for this project\ntitle: ''\nlabels: ''\nassignees: ''\n\n---\n\n**Is your feature request related to a problem? Please describe.**\nA clear and concise description of what the problem is. Ex. I'm always frustrated when [...]\n\n**Describe the solution you'd like**\nA clear and concise description of what you want to happen.\n\n**Describe alternatives you've considered**\nA clear and concise description of any alternative solutions or features you've considered.\n\n**Additional context**\nAdd any other context or screenshots about the feature request here.\n</code></pre> </li> </ol> </li> <li> <p>Preencha o formul\u00e1rio. Sinta-se \u00e0 vontade para ser criativo \ud83d\ude42 com suas entradas.</p> <p>Para o t\u00edtulo...</p> <p>Voc\u00ea pode, por exemplo, inserir \"Criar um jogo de Tetris para encantar os visitantes do nosso site\".</p> <p>Depois de preencher o formul\u00e1rio, clique em Create  para criar a issue. (1)</p> <ol> <li>As coisas que voc\u00ea pode fazer em uma issue incluem, mas n\u00e3o est\u00e3o limitadas a<ul> <li>Atribuir a issue para voc\u00ea mesmo ou outras partes interessadas.</li> <li>Mencionar outras partes interessadas (pessoas e equipes) para notific\u00e1-las.</li> </ul> </li> </ol> </li> </ol>"},{"location":"exercises/01.collaborate/01/#anote-o-numero-da-issue","title":"Anote o n\u00famero da issue","text":"<p>Usaremos o n\u00famero da issue para vincul\u00e1-la ao trabalho subsequente mais tarde. Se voc\u00ea estiver muito curioso e n\u00e3o puder esperar, veja \ud83d\udc40 Vinculando um pull request a uma issue.</p> <p>Al\u00e9m disso, tendo criado a issue, podemos atualiz\u00e1-la com coment\u00e1rios para manter as partes interessadas colaboradoras informadas.</p>"},{"location":"exercises/01.collaborate/01/#recursos","title":"\ud83d\udcda Recursos","text":"<ul> <li>Planejamento de projetos para desenvolvedores</li> <li>Planejamento e rastreamento de trabalho para sua equipe ou projeto</li> <li>Vinculando um pull request a uma issue</li> <li>Criar diagramas para transmitir informa\u00e7\u00f5es atrav\u00e9s de gr\u00e1ficos</li> </ul>"},{"location":"exercises/01.collaborate/02/","title":"Implementar Recursos","text":"<p> Permitir integra\u00e7\u00e3o r\u00e1pida ao desenvolvimento do projeto</p> <p>Nosso objetivo \u00e9 criar um Jogo de Tetris para encantar os visitantes do nosso site, sem perder tempo com processos complexos de integra\u00e7\u00e3o ao projeto nem complica\u00e7\u00f5es devido ao excesso de ferramentas.</p> <p>Atualmente, navegar para a p\u00e1gina do Jogo de Tetris do site do workshop mostra que o recurso est\u00e1 faltando. Vamos resolver esse problema neste exerc\u00edcio.</p> <p></p> <p></p>"},{"location":"exercises/01.collaborate/02/#exercicio-integrar-o-jogo-de-tetris","title":"Exerc\u00edcio: Integrar o Jogo de Tetris","text":"<p>Consulte novamente o ambiente de desenvolvimento Codespaces criado no pr\u00e9-requisito para o workshop.(1)</p> <ol> <li> <p> Seu Codespace pode ter parado devido \u00e0 inatividade. N\u00e3o se preocupe, \u00e9 bastante f\u00e1cil voltar aos trilhos...</p> <ul> <li>Se a aba do navegador com seu Codespace ainda estiver aberta e voc\u00ea puder encontr\u00e1-la, clique em Reiniciar codespace para continuar.     </li> <li>Caso contr\u00e1rio, voc\u00ea pode encontr\u00e1-lo no novo reposit\u00f3rio que voc\u00ea criou.     </li> </ul> </li> </ol>"},{"location":"exercises/01.collaborate/02/#explore-seu-codespace","title":"Explore seu Codespace","text":""},{"location":"exercises/01.collaborate/02/#entenda-seu-codespace","title":"Entenda seu Codespace","text":"<p><code>.devcontainer/devcontainer.json</code> descreve o provisionamento do seu codespace. Algumas das entradas de configura\u00e7\u00e3o s\u00e3o explicadas abaixo, com anota\u00e7\u00f5es ao lado da respectiva entrada. Voc\u00ea pode aprender mais sobre a Especifica\u00e7\u00e3o de Cont\u00eainer de Desenvolvimento quando for conveniente.</p> .devcontainer/devcontainer.json<pre><code>{\n  \"hostRequirements\": {//(1)!\n    \"cpus\": 4,\n    \"memory\": \"16gb\",\n    \"storage\": \"32gb\"\n  },\n  \"build\": {\n    \"dockerfile\": \"./Dockerfile\",//(2)!\n    \"context\": \"..\"\n  },\n  \"postAttachCommand\": \"python -m mkdocs serve --clean --dev-addr 127.0.0.1:8080\",//(3)!\n  \"forwardPorts\": [\n    8080\n  ],\n  \"containerEnv\": {\n    \"TETRIS_APP_HOST\": \"127.0.0.1\",\n    \"TETRIS_APP_PORT\": \"8080\",\n    \"TETRIS_APP_PATH\": \"github-devsecops-fundamentals\"\n  },\n  ...\n</code></pre> <ol> <li>Voc\u00ea pode personalizar o recurso de computa\u00e7\u00e3o a ser disponibilizado para o ambiente Codespace, para adequar ao seu projeto.</li> <li>Um <code>Dockerfile</code> pode ser usado para personalizar a imagem do cont\u00eainer do Codespace, por exemplo, voc\u00ea pode optar por pr\u00e9-instalar consistentemente as depend\u00eancias necess\u00e1rias para o ambiente de desenvolvimento.</li> <li>Tarefas podem ser configuradas para serem executadas no in\u00edcio de cada sess\u00e3o de desenvolvimento, por exemplo, executar um servidor de desenvolvimento.</li> </ol> <p>Na visualiza\u00e7\u00e3o do <code>TERMINAL</code> na parte inferior, observe que um servidor de site local j\u00e1 est\u00e1 em execu\u00e7\u00e3o. Isso \u00e9 resultado da entrada de configura\u00e7\u00e3o <code>postAttachCommand</code> no arquivo <code>.devcontainer/devcontainer.json</code>.</p> <p>Observando o log de compila\u00e7\u00e3o no terminal, voc\u00ea pode ver um aviso como o do exemplo a seguir.(1)</p> <ol> <li>\ud83d\udca1 O aviso d\u00e1 uma pista para resolver o problema de integra\u00e7\u00e3o do Jogo de Tetris. Implementaremos a corre\u00e7\u00e3o nas etapas posteriores!</li> </ol> <p></p> <p> A entrada de <code>INFO</code> no log que diz <code>INFO    -  [05:36:30] Watching paths for changes: 'docs', 'mkdocs.yml'</code> informa que o site local ser\u00e1 reconstru\u00eddo sempre que houver uma mudan\u00e7a na pasta <code>docs</code>.</p>"},{"location":"exercises/01.collaborate/02/#habilitar-feedback-rapido-de-colaboracao","title":"Habilitar Feedback R\u00e1pido de Colabora\u00e7\u00e3o","text":"<p>Mude para a visualiza\u00e7\u00e3o <code>PORTS</code> no painel inferior, observe que h\u00e1 uma entrada <code>Site (8080)</code> na tabela.</p> <ol> <li>Foque seu ponteiro do mouse  em <code>Site (8080)</code> para revelar contextos adicionais.</li> <li> <p>Clique no \u00edcone  Preview in editor para navegar na compila\u00e7\u00e3o local do site dentro do navegador do editor.(1)</p> <ol> <li> <ul> <li> Apenas voc\u00ea tem acesso ao site publicado no momento.</li> </ul> </li> <li> Voc\u00ea tamb\u00e9m pode clicar no \u00edcone  associado \u00e0 entrada <code>Site (8080)</code> para ver o site em seu navegador normal.</li> </ol> </li> </ol> <p>Abra acesso a outras partes interessadas para colabora\u00e7\u00e3o.</p> <ol> <li>Clique com o bot\u00e3o direito na entrada <code>Site (8080)</code></li> <li>No menu pop-up, coloque o ponteiro do mouse no item Port Visibility e selecione a op\u00e7\u00e3o Public.     </li> </ol> <p> Agora, outras partes interessadas com quem voc\u00ea compartilhar a URL do site podem acess\u00e1-lo. Consequentemente, elas tamb\u00e9m podem avaliar seu trabalho em andamento e colaborar com feedbacks oportunos.</p>"},{"location":"exercises/01.collaborate/02/#implementar-verificacoes-automatizadas","title":"Implementar Verifica\u00e7\u00f5es Automatizadas","text":"<p>O GitHub como plataforma \u00e9 orientado a eventos. Al\u00e9m do comum, voc\u00ea pode geralmente automatizar seus processos de neg\u00f3cios reais modelando atividades para produzir mudan\u00e7as no GitHub, assim acionando a execu\u00e7\u00e3o de certas tarefas automatizadas dependendo da natureza de uma mudan\u00e7a. Se voc\u00ea j\u00e1 est\u00e1 familiarizado com o conceito de GitOps, pense em como a ideia pode ser estendida al\u00e9m dos escopos de provisionar infraestrutura e implementar implanta\u00e7\u00e3o cont\u00ednua.</p> <p>Nesta fase fundamental de introdu\u00e7\u00e3o ao DevSecOps, vamos focar nosso uso do poderoso sistema de eventos do GitHub para conduzir verifica\u00e7\u00f5es e testes de  integra\u00e7\u00e3o cont\u00ednua  com os Workflows do GitHub.</p>"},{"location":"exercises/01.collaborate/02/#aprenda-sobre-github-actions","title":"Aprenda sobre GitHub Actions","text":"<p>O que \u00e9 GitHub Actions?</p> <p>GitHub Actions \u00e9 uma plataforma de integra\u00e7\u00e3o cont\u00ednua e entrega cont\u00ednua (CI/CD) que permite automatizar seu pipeline de compila\u00e7\u00e3o, teste e implanta\u00e7\u00e3o. Voc\u00ea pode criar fluxos de trabalho que compilam e testam cada pull request para seu reposit\u00f3rio, ou implantam pull requests mesclados para produ\u00e7\u00e3o.</p> <p>GitHub Actions vai al\u00e9m do DevOps e permite que voc\u00ea execute fluxos de trabalho quando outros eventos acontecem em seu reposit\u00f3rio. Por exemplo, voc\u00ea pode executar um fluxo de trabalho para adicionar automaticamente as etiquetas apropriadas sempre que algu\u00e9m cria um novo problema em seu reposit\u00f3rio.</p> <p>GitHub fornece m\u00e1quinas virtuais Linux, Windows e macOS para executar seus fluxos de trabalho, ou voc\u00ea pode hospedar seus pr\u00f3prios executores auto-hospedados em seu pr\u00f3prio data center ou infraestrutura de nuvem.</p> <p>~ Entendendo GitHub Actions</p> Anatomia de um Workflow GitHub<pre><code>name: Aprenda GitHub Actions #(1)!\n\nrun-name: ${{ github.actor }} est\u00e1 aprendendo GitHub Actions #(2)!\n\non: [push] #(3)!\n\npermissions: #(12)!\n    contents: read\n\nenv: #(13)!\n    LEARNER_NAME: Igwe\n\njobs: #(4)!\n\n    check-bats-version: #(5)!\n\n        runs-on: ubuntu-latest #(6)!\n\n        steps: #(7)!\n\n            - uses: actions/checkout@v4 #(8)!\n\n            - uses: actions/setup-node@v3 #(9)!\n              with:\n                  node-version: '14'\n\n            - run: npm install -g bats #(10)!\n\n            - run: bats -v #(11)!\n\n            - run: echo \"Ei ${LEARNER_NAME}, voc\u00ea est\u00e1 indo bem... Voc\u00ea dominou o GitHub Actions\\!\"\n</code></pre> <ol> <li><code>Opcional</code> - O nome do fluxo de trabalho como aparecer\u00e1 na aba \"Actions\" do reposit\u00f3rio do GitHub. Se este campo for omitido, o nome do arquivo do fluxo de trabalho ser\u00e1 usado.</li> <li><code>Opcional</code> - O nome para execu\u00e7\u00f5es de fluxo de trabalho geradas a partir do fluxo de trabalho, que aparecer\u00e1 na lista de execu\u00e7\u00f5es de fluxo de trabalho na aba \"Actions\" do seu reposit\u00f3rio. Este exemplo usa uma express\u00e3o com o contexto <code>github</code> para exibir o nome de usu\u00e1rio do ator que acionou a execu\u00e7\u00e3o do fluxo de trabalho. Para mais informa\u00e7\u00f5es, veja \"Sintaxe de fluxo de trabalho para GitHub Actions.\"</li> <li>Especifica o gatilho para este fluxo de trabalho. Este exemplo usa o evento <code>push</code>, ent\u00e3o uma execu\u00e7\u00e3o de fluxo de trabalho \u00e9 acionada sempre que algu\u00e9m envia uma altera\u00e7\u00e3o para o reposit\u00f3rio ou mescla um pull request. Isso \u00e9 acionado por um push para qualquer branch; para exemplos de sintaxe que s\u00e3o executados apenas em pushes para branches, caminhos ou tags espec\u00edficos, veja \"Sintaxe de fluxo de trabalho para GitHub Actions\" e  \"Eventos que acionam fluxos de trabalho\" .</li> <li>Agrupa todos os trabalhos que s\u00e3o executados no fluxo de trabalho <code>learn-github-actions</code>.</li> <li>Define um trabalho chamado <code>check-bats-version</code>. As chaves filho definir\u00e3o propriedades do trabalho.</li> <li>Configura o trabalho para ser executado na vers\u00e3o mais recente de um executor Linux Ubuntu. Isso significa que o trabalho ser\u00e1 executado em uma m\u00e1quina virtual nova hospedada pelo GitHub. Para exemplos de sintaxe usando outros executores, veja \"Sintaxe de fluxo de trabalho para GitHub Actions\"</li> <li>Agrupa todos os passos que s\u00e3o executados no trabalho <code>check-bats-version</code>. Cada item aninhado sob esta se\u00e7\u00e3o \u00e9 uma a\u00e7\u00e3o ou script de shell separado.</li> <li> <p>A palavra-chave <code>uses</code> especifica que este passo executar\u00e1 a a\u00e7\u00e3o <code>actions/checkout</code> na vers\u00e3o <code>v4</code>. Esta \u00e9 uma a\u00e7\u00e3o que verifica seu reposit\u00f3rio no executor, permitindo que voc\u00ea execute scripts ou outras a\u00e7\u00f5es contra seu c\u00f3digo (como ferramentas de compila\u00e7\u00e3o e teste). Voc\u00ea deve usar a a\u00e7\u00e3o de checkout sempre que seu fluxo de trabalho usar o c\u00f3digo do reposit\u00f3rio.</p> <p>A\u00e7\u00f5es s\u00e3o os blocos de constru\u00e7\u00e3o que impulsionam seu fluxo de trabalho. Um fluxo de trabalho pode conter a\u00e7\u00f5es criadas pela comunidade, ou voc\u00ea pode criar suas pr\u00f3prias a\u00e7\u00f5es diretamente no reposit\u00f3rio da sua aplica\u00e7\u00e3o.</p> <p>Para saber mais, consulte:</p> <ul> <li>Encontrando e personalizando a\u00e7\u00f5es</li> <li>Sobre a\u00e7\u00f5es personalizadas</li> </ul> </li> <li> <p>Este passo usa a a\u00e7\u00e3o <code>actions/setup-node@v3</code> para instalar a vers\u00e3o especificada do Node.js. (Este exemplo usa a vers\u00e3o 14.) Isso coloca os comandos <code>node</code> e <code>npm</code> em seu <code>PATH</code>.</p> </li> <li>A palavra-chave <code>run</code> diz ao trabalho para executar um comando no executor. Neste caso, voc\u00ea est\u00e1 usando <code>npm</code> para instalar o pacote de teste de software <code>bats</code>.</li> <li>Finalmente, voc\u00ea executar\u00e1 o comando <code>bats</code> com um par\u00e2metro que exibe a vers\u00e3o do software.</li> <li> <p>No in\u00edcio de cada trabalho do fluxo de trabalho, o GitHub cria automaticamente um segredo \u00fanico <code>GITHUB_TOKEN</code> para uso em seu fluxo de trabalho. Voc\u00ea pode usar o <code>GITHUB_TOKEN</code> para se autenticar no trabalho do fluxo de trabalho.</p> <p>Quando voc\u00ea habilita o GitHub Actions, o GitHub instala um aplicativo GitHub em seu reposit\u00f3rio. O segredo <code>GITHUB_TOKEN</code> \u00e9 um token de acesso de instala\u00e7\u00e3o do aplicativo GitHub. Voc\u00ea pode usar o token de acesso de instala\u00e7\u00e3o para autenticar em nome do aplicativo GitHub instalado em seu reposit\u00f3rio. As permiss\u00f5es do token s\u00e3o limitadas ao reposit\u00f3rio que cont\u00e9m seu fluxo de trabalho.</p> <p>Voc\u00ea pode modificar as permiss\u00f5es para o <code>GITHUB_TOKEN</code> em arquivos de fluxo de trabalho individuais. Se as permiss\u00f5es padr\u00e3o para o <code>GITHUB_TOKEN</code> forem restritivas, voc\u00ea pode ter que elevar as permiss\u00f5es para permitir que algumas a\u00e7\u00f5es e comandos sejam executados com sucesso. Se as permiss\u00f5es padr\u00e3o forem permissivas, voc\u00ea pode editar o arquivo de fluxo de trabalho para remover algumas permiss\u00f5es do <code>GITHUB_TOKEN</code>. Como uma boa pr\u00e1tica de seguran\u00e7a, voc\u00ea deve conceder ao <code>GITHUB_TOKEN</code> o menor acesso necess\u00e1rio.</p> <p>Saiba mais sobre as Permiss\u00f5es padr\u00e3o para o <code>GITHUB_TOKEN</code>.</p> </li> <li> <p>Isso define um <code>mapa</code> de vari\u00e1veis que est\u00e3o dispon\u00edveis para os passos de todos os trabalhos no fluxo de trabalho. Voc\u00ea tamb\u00e9m pode definir vari\u00e1veis que est\u00e3o dispon\u00edveis apenas para os passos de um \u00fanico trabalho ou para um \u00fanico passo. Saiba mais em Definindo vari\u00e1veis de ambiente para um \u00fanico fluxo de trabalho.</p> </li> </ol>"},{"location":"exercises/01.collaborate/02/#implementar-verificacoes-automatizadas-de-pull-request","title":"Implementar Verifica\u00e7\u00f5es Automatizadas de Pull Request","text":"<p>O que \u00e9 um Pull Request (tamb\u00e9m conhecido como PR)?</p> <p>Pull requests permitem que voc\u00ea informe outros sobre as mudan\u00e7as que voc\u00ea enviou para um branch em um reposit\u00f3rio no GitHub. Uma vez que um pull request \u00e9 aberto, voc\u00ea pode discutir e revisar as potenciais mudan\u00e7as com colaboradores e adicionar commits de acompanhamento antes que suas mudan\u00e7as sejam mescladas no branch base.</p> <p>~ Sobre pull requests</p> <p>Para habilitar verifica\u00e7\u00f5es de qualidade no projeto em alta velocidade, implemente um fluxo de trabalho que padronize verifica\u00e7\u00f5es automatizadas da seguinte forma.</p> .github/workflows/continuous.integration.yml<pre><code>name: Run Checks on PR\n\non:\n  pull_request:\n    branches:\n      - main\n\npermissions:\n  actions: write\n  checks: write\n  contents: read\n  security-events: write\n  pull-requests: write\n\nenv:\n  CI: true\n  SITE_DIR: site\n  TETRIS_APP_HOST: \"127.0.0.1\"\n  TETRIS_APP_PORT: \"8080\"\n  TETRIS_APP_PATH: \"github-devsecops-fundamentals\"\n\njobs:\n  quality-checks:\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v3\n\n      - uses: actions/setup-python@v4\n        with:\n          python-version: 3.12\n      - uses: actions/setup-node@v3\n        with:\n          node-version: 20\n\n      - name: Install Dependencies\n        run: |\n          python -m pip install --upgrade pip\n          pip install -r requirements.ci.txt\n          npm ci\n          # Install browsers for running functional tests\n          npx playwright install --with-deps chromium\n\n      - name: Build\n        run: |\n          python -m mkdocs build --clean --strict --verbose --site-dir '${{ env.SITE_DIR }}'\n\n      - name: Functional Test\n        run: npx playwright test\n\n      - name: Upload Functional Test Report\n        uses: actions/upload-artifact@v3\n        if: always()\n        with:\n          name: playwright-report\n          path: playwright-report/\n          retention-days: 30\n</code></pre>"},{"location":"exercises/01.collaborate/02/#analise","title":"An\u00e1lise","text":"<ul> <li> <p>Linhas <code>3 - 6</code></p> <p>O fluxo de trabalho ser\u00e1 acionado quando um pull request for criado direcionado ao branch <code>main</code>. Adicionalmente, altera\u00e7\u00f5es em um pull request far\u00e3o com que o fluxo de trabalho seja executado novamente.</p> </li> <li> <p>Linhas <code>43 - 45</code></p> <p>Primeira verifica\u00e7\u00e3o: O site \u00e9 compilado com a op\u00e7\u00e3o <code>--strict</code>, de modo que a ocorr\u00eancia de qualquer <code>AVISO</code> resulte em uma verifica\u00e7\u00e3o falha. Como est\u00e1, podemos esperar que as verifica\u00e7\u00f5es automatizadas sinalizem o pull request como n\u00e3o conforme nesta etapa.</p> </li> <li> <p>Linhas <code>47 - 48</code></p> <p>Segunda verifica\u00e7\u00e3o: Desde que a etapa de compila\u00e7\u00e3o tenha sido bem-sucedida, este pr\u00f3ximo passo testa a corretude da implementa\u00e7\u00e3o do recurso de acordo com as expectativas de valor do cliente. At\u00e9 agora, n\u00e3o devemos chegar a este ponto na execu\u00e7\u00e3o do fluxo de trabalho, pois a <code>Compila\u00e7\u00e3o</code> deve ter falhado porque a implementa\u00e7\u00e3o do recurso do jogo Tetris n\u00e3o foi conclu\u00edda.</p> </li> </ul>"},{"location":"exercises/01.collaborate/02/#publicar-suas-alteracoes","title":"Publicar suas altera\u00e7\u00f5es","text":"<p>Voc\u00ea pode vincular suas altera\u00e7\u00f5es a uma issue</p> <p>Lembre-se da issue que voc\u00ea criou anteriormente e seu respectivo n\u00famero, voc\u00ea o usar\u00e1 para vincular suas altera\u00e7\u00f5es atuais \u00e0 issue.</p> <ol> <li> <p>Commit e push das altera\u00e7\u00f5es.</p> <pre><code>git checkout -b feature/tetris-game\ngit add .\ngit commit -m \"$(printf 'Criar um jogo de tetris para impulsionar o engajamento do site\\n\\n- Implementar integra\u00e7\u00e3o cont\u00ednua\\n\\n- Resolve #&lt;N\u00daMERO-DA-ISSUE&gt;')\"\ngit push -u origin feature/tetris-game\n</code></pre> </li> <li> <p>Crie um pull request clicando no \u00edcone GitHub na barra lateral e depois clicando no \u00edcone Criar Pull Request.</p> <ol> <li> <p></p> </li> <li> <p></p> </li> </ol> <p>Verifique se o branch local e o reposit\u00f3rio de onde voc\u00ea est\u00e1 mesclando, e o branch remoto e o reposit\u00f3rio para onde voc\u00ea est\u00e1 mesclando, est\u00e3o corretos. Voc\u00ea pode deixar o t\u00edtulo e a descri\u00e7\u00e3o do pull request pr\u00e9-preenchidos como est\u00e3o.</p> <p></p> <p>Clique em \"Criar\", e se solicitado, clique em \"Sempre\" ou \"Publicar Branch\".</p> </li> <li> <p>O pull request que voc\u00ea criou ser\u00e1 listado em <code>https://github.com/&lt;SEU-HANDLE&gt;/github-devsecops-fundamentals/pulls</code>.</p> <p>Ao abrir o pull request para explora\u00e7\u00e3o, voc\u00ea deve observar o seguinte:</p> <ul> <li> <p> Conversa</p> <p>Particularmente permite e resume discuss\u00f5es/revis\u00f5es sobre suas altera\u00e7\u00f5es com outros colaboradores e partes interessadas. E adicionalmente resume o resultado das verifica\u00e7\u00f5es no pull request.     -  Commits</p> <p>Resume todos os commits que contribuem para o pull request.</p> </li> <li> <p> Verifica\u00e7\u00f5es</p> <p>Lista as verifica\u00e7\u00f5es executadas no pull request e seus respectivos resultados.</p> </li> <li> <p> Arquivos alterados</p> <p>Mostra um <code>diff</code> de arquivos modificados e adicionados devido ao pull request.</p> </li> </ul> <p></p> <p>Note</p> <p>Observe as 3 verifica\u00e7\u00f5es executadas.</p> <ul> <li>1 falha devido a erro na compila\u00e7\u00e3o do site.</li> <li>2 verifica\u00e7\u00f5es de an\u00e1lise de c\u00f3digo passaram.</li> </ul> </li> </ol>"},{"location":"exercises/01.collaborate/02/#implementar-mudancas-de-recursos","title":"Implementar Mudan\u00e7as de Recursos","text":"<p>A etapa <code>Build</code> nas verifica\u00e7\u00f5es automatizadas implementadas anteriormente deve identificar uma falha apontando finalmente para a incompletude do recurso esperado do jogo Tetris. Na fase atual, tomaremos medidas para integrar o jogo Tetris da seguinte forma.</p> <ol> <li>Renomeie a pasta <code>docs/.tetris.game</code> para <code>docs/tetris.game</code>, ou seja, simplesmente remova o prefixo <code>.</code> do nome.</li> <li> <p>Encontre e abra o arquivo <code>mkdocs.yml</code> no Explorador de Arquivos (est\u00e1 na raiz da \u00e1rvore de arquivos)</p> </li> <li> <p>Confirme que a entrada relevante do <code>Tetris Game</code> aponta para um arquivo de \u00edndice na pasta <code>tetris.game</code></p> <pre><code> nav:\n   - Home: index.md\n   - Prerequisites: prerequisites.md\n   - Exercises:\n       - Introduction: exercises/index.md\n       - Collaborate:\n           - exercises/01.collaborate/index.md\n           - exercises/01.collaborate/01.md\n           - exercises/01.collaborate/02.md\n       - Secure the Software Supply Chain:\n           - exercises/02.secure.the.software.supply.chain/index.md\n           - exercises/02.secure.the.software.supply.chain/01.md\n           - exercises/02.secure.the.software.supply.chain/02.md\n       - Automate Release:\n           - exercises/03.automate.release/index.md\n           - exercises/03.automate.release/01.md\n           - exercises/03.automate.release/02.md\n       - \u2728 Recap:\n           - exercises/recap/index.md\n   - Tetris Game: tetris.game/index.html\n</code></pre> </li> </ol>"},{"location":"exercises/01.collaborate/02/#teste-manual","title":"Teste Manual","text":"<ol> <li>Observe a compila\u00e7\u00e3o local no terminal, n\u00e3o deve haver nenhum  <code>AVISO</code> no log.</li> <li>Confirme manualmente que a integra\u00e7\u00e3o do Jogo Tetris foi efetiva.    </li> </ol>"},{"location":"exercises/01.collaborate/02/#teste-automatizado","title":"Teste Automatizado","text":"<p>Antes de publicar nossas novas altera\u00e7\u00f5es, implementaremos e executaremos um teste funcional para validar a implementa\u00e7\u00e3o do recurso.</p> <ol> <li> <p>Abra o terminal e instale as depend\u00eancias de teste.(1)</p> <ol> <li>\ud83d\udca1 Voc\u00ea pode criar uma sess\u00e3o de terminal adicional clicando em  no canto superior direito do painel <code>TERMINAL</code>.</li> </ol> <pre><code># Instalar Node.js\nnvm install --lts #(1)!\n# Instalar pacotes necess\u00e1rios para executar o teste funcional de UI\nnpm install\n# Instalar o(s) navegador(es) contra o(s) qual(is) o teste funcional de UI deve ser executado\nnpx playwright install --with-deps chromium #(2)!\n</code></pre> <ol> <li> Um ambiente codespace pode ser personalizado conforme necess\u00e1rio. Neste caso, personalizamos a sess\u00e3o em execu\u00e7\u00e3o instalando a vers\u00e3o mais recente do <code>Node.js</code>.</li> <li> Este comando instala os navegadores necess\u00e1rios para o teste funcional. Por favor, seja paciente, pode levar de 1 a 2 minutos para concluir a instala\u00e7\u00e3o.</li> </ol> <p>Em seguida, implemente o teste funcional da seguinte forma.</p> tests/tetris.spec.js<pre><code>import { test, expect } from \"@playwright/test\";\n\ntest(\"Tetris Game\", async ({ page }) =&gt; {\n  const { TETRIS_APP_HOST, TETRIS_APP_PORT, TETRIS_APP_PATH } = process.env;\n\n  // should be similar to http://127.0.0.1:8080/github-devsecops-fundamentals/\n  console.log(\n    `http://${TETRIS_APP_HOST}:${TETRIS_APP_PORT}/${TETRIS_APP_PATH}`\n  );\n  await page.goto(\n    `http://${TETRIS_APP_HOST}:${TETRIS_APP_PORT}/${TETRIS_APP_PATH}`\n  );\n\n  await page.getByRole(\"link\", { name: \"Tetris Game\" }).click();\n  await expect(page.getByText(\"score 00000\")).toBeVisible();\n  await expect(page.getByText(\"rows 0\")).toBeVisible();\n  await expect(page.locator(\"#upcoming\")).toBeVisible();\n  await expect(\n    page.getByRole(\"link\", { name: \"Press Space to Play.\" })\n  ).toBeVisible();\n\n  await page.getByRole(\"link\", { name: \"Press Space to Play.\" }).click();\n  await expect(page.getByText(\"score 00000\")).not.toBeVisible({\n    timeout: 0.5 * 60 * 1000,\n  });\n});\n</code></pre> <p>Finalmente, execute o teste automatizado.</p> <pre><code>npx playwright test\n</code></pre> <p>Quando tudo estiver feito corretamente, o teste deve passar. </p> </li> <li> <p>Fa\u00e7a commit das altera\u00e7\u00f5es no branch atual <code>feature/tetris-game</code> e publique-o para revis\u00e3o.</p> <p>Voc\u00ea pode vincular suas altera\u00e7\u00f5es a uma issue</p> <p>Lembre-se da issue que voc\u00ea criou anteriormente e seu respectivo n\u00famero, voc\u00ea o usar\u00e1 para vincular suas altera\u00e7\u00f5es atuais \u00e0 issue.</p> <pre><code>git add .\ngit commit -m \"$(printf 'Criar um jogo de tetris para impulsionar o engajamento do site\\n\\n-Integrar implementa\u00e7\u00e3o do jogo Tetris\\n\\n- Resolve #&lt;N\u00daMERO-DA-ISSUE&gt;')\"\ngit push origin\n</code></pre> <p>Observe que todas as verifica\u00e7\u00f5es foram aprovadas.</p> <p></p> </li> </ol>"},{"location":"exercises/01.collaborate/02/#recursos","title":"\ud83d\udcda Recursos","text":"<ul> <li>Criando um site do GitHub Pages</li> <li>Introdu\u00e7\u00e3o aos cont\u00eaineres de desenvolvimento</li> <li>Sintaxe de fluxo de trabalho para GitHub Actions</li> <li>Eventos que acionam fluxos de trabalho</li> <li>Encontrando e personalizando a\u00e7\u00f5es</li> <li>An\u00e1lise de c\u00f3digo</li> <li>Fortalecimento de seguran\u00e7a para GitHub Actions</li> </ul>"},{"location":"exercises/02.secure.the.software.supply.chain/","title":"Proteger a Cadeia de Suprimentos de Software","text":"<p>Entrega Cont\u00ednua e Cadeia de Suprimentos Segura</p> <p>A seguran\u00e7a da cadeia de suprimentos \u00e9 parte integral da entrega cont\u00ednua. Com o uso acelerado de c\u00f3digo aberto, a maioria dos projetos depende de centenas de depend\u00eancias de c\u00f3digo aberto. Isso representa um problema de seguran\u00e7a: e se as depend\u00eancias que voc\u00ea est\u00e1 usando forem vulner\u00e1veis? Voc\u00ea poderia estar colocando seus usu\u00e1rios em risco de um ataque \u00e0 cadeia de suprimentos. Uma das coisas mais importantes que voc\u00ea pode fazer para proteger sua cadeia de suprimentos \u00e9 corrigir suas depend\u00eancias vulner\u00e1veis e substituir qualquer malware.</p> <p>Com base no progresso dos exerc\u00edcios anteriores, aplicaremos seguran\u00e7a na cadeia de suprimentos e entregaremos continuamente o produto cumprindo os seguintes objetivos.</p>"},{"location":"exercises/02.secure.the.software.supply.chain/#objetivos","title":"Objetivos","text":"<ul> <li> Criar Verifica\u00e7\u00f5es de Integra\u00e7\u00e3o para o aplicativo <code>Tetris</code> usando GitHub Actions.</li> <li> Criar um fluxo de trabalho de Entrega Cont\u00ednua para o aplicativo <code>Tetris</code> usando GitHub Actions.</li> <li> Criar uma nova <code>tag</code> de lan\u00e7amento para o aplicativo <code>Tetris</code> usando GitHub Actions.</li> <li> Criar Conformidade usando CodeQL, Revis\u00e3o de Depend\u00eancias e Dependabot.</li> </ul>"},{"location":"exercises/02.secure.the.software.supply.chain/01/","title":"Revis\u00e3o de Depend\u00eancias","text":"<p> Adicionar Verifica\u00e7\u00f5es de Seguran\u00e7a</p> <p>A revis\u00e3o de depend\u00eancias ajuda voc\u00ea a entender as mudan\u00e7as nas depend\u00eancias e o impacto de seguran\u00e7a dessas mudan\u00e7as em cada pull request. Ela fornece uma visualiza\u00e7\u00e3o facilmente compreens\u00edvel das altera\u00e7\u00f5es de depend\u00eancias com um diff detalhado na guia \"Arquivos Alterados\" de um pull request. A revis\u00e3o de depend\u00eancias informa voc\u00ea sobre:</p> <ul> <li>Quais depend\u00eancias foram adicionadas, removidas ou atualizadas, juntamente com as datas de lan\u00e7amento.</li> <li>Quantos projetos usam esses componentes.</li> <li>Dados de vulnerabilidade para essas depend\u00eancias.</li> </ul> <p></p>"},{"location":"exercises/02.secure.the.software.supply.chain/01/#exercicio-automatizar-a-aplicacao-da-revisao-de-dependencias","title":"Exerc\u00edcio: Automatizar a Aplica\u00e7\u00e3o da Revis\u00e3o de Depend\u00eancias","text":""},{"location":"exercises/02.secure.the.software.supply.chain/01/#entender-as-configuracoes-da-revisao-de-dependencias","title":"Entender as Configura\u00e7\u00f5es da Revis\u00e3o de Depend\u00eancias","text":".github/dependency-review-config.yml<pre><code>fail-on-severity: moderate #(1)!\n\ncomment-summary-in-pr: always #(2)!\n\nallow-licenses: #(3)!\n  - MIT\n  - GPL-3.0\n  - BSD-3-Clause\n\ndeny-licenses: #(4)!\n  - LGPL-2.0\n  - BSD-2-Clause\n\nallow-ghsas: #(5)!\n  - GHSA-abcd-1234-5679\n  - GHSA-efgh-1234-5679\n\nfail-on-scopes: #(6)!\n  - development\n  - runtime\n  - unknown\n</code></pre> <ol> <li>Valores poss\u00edveis: \"critical\", \"high\", \"moderate\", \"low\"</li> <li>Publicar resumo como um coment\u00e1rio no respectivo pull request</li> <li>Permitir apenas as licen\u00e7as listadas (opcional). Valores poss\u00edveis: Quaisquer valores <code>spdx_id</code> de https://docs.github.com/pt/rest/licenses</li> <li> <p>Bloquear o pull request nestas licen\u00e7as (opcional). Valores poss\u00edveis: Quaisquer valores <code>spdx_id</code> de https://docs.github.com/pt/rest/licenses</p> <p> Voc\u00ea s\u00f3 pode incluir uma dessas duas op\u00e7\u00f5es: <code>allow-licenses</code> e <code>deny-licenses</code>.</p> </li> <li> <p>Ignorar esses IDs do Banco de Dados de Avisos do GitHub durante a detec\u00e7\u00e3o (opcional). Valores poss\u00edveis: Qualquer ID v\u00e1lido do Banco de Dados de Avisos do GitHub de https://github.com/advisories</p> </li> <li>Bloquear pull requests que introduzem vulnerabilidades nos escopos que correspondem a esta lista (opcional). Valores poss\u00edveis: \"development\", \"runtime\", \"unknown\"</li> </ol>"},{"location":"exercises/02.secure.the.software.supply.chain/01/#implementar-verificacao-de-revisao-de-dependencias","title":"Implementar Verifica\u00e7\u00e3o de Revis\u00e3o de Depend\u00eancias","text":"<p>Abra o arquivo <code>.github/workflows/continuous.integration.yml</code> no editor e adicione o conte\u00fado  destacado  da seguinte forma:</p> .github/workflows/continuous.integration.yml<pre><code>name: Run Checks on PR\n\non:\n  pull_request:\n    branches:\n      - main\n\npermissions:\n  actions: write\n  checks: write\n  contents: read\n  security-events: write\n  pull-requests: write\n\nenv:\n  CI: true\n  SITE_DIR: site\n  TETRIS_APP_HOST: \"127.0.0.1\"\n  TETRIS_APP_PORT: \"8080\"\n  TETRIS_APP_PATH: \"github-devsecops-fundamentals\"\n\njobs:\n  quality-checks:\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v3\n\n      - uses: actions/setup-python@v4\n        with:\n          python-version: 3.12\n      - uses: actions/setup-node@v3\n        with:\n          node-version: 20\n\n      - name: Install Dependencies\n        run: |\n          python -m pip install --upgrade pip\n          pip install -r requirements.ci.txt\n          npm ci\n          # Install browsers for running functional tests\n          npx playwright install --with-deps chromium\n\n      - name: Build\n        run: |\n          python -m mkdocs build --clean --strict --verbose --site-dir '${{ env.SITE_DIR }}'\n\n      - name: Functional Test\n        run: npx playwright test\n\n      - name: Upload Functional Test Report\n        uses: actions/upload-artifact@v3\n        if: always()\n        with:\n          name: playwright-report\n          path: playwright-report/\n          retention-days: 30\n\n  security-checks:\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v3\n\n      - name: Dependency Review\n        uses: actions/dependency-review-action@v3\n        with:\n          config-file: &gt;-\n            ./.github/dependency-review-config.yml\n</code></pre>"},{"location":"exercises/02.secure.the.software.supply.chain/01/#fazer-commit-e-publicar-suas-alteracoes","title":"Fazer commit e publicar suas altera\u00e7\u00f5es","text":"<p>Enviar suas altera\u00e7\u00f5es aplicar\u00e1 a verifica\u00e7\u00e3o no pull request existente.</p> <p>Voc\u00ea pode vincular suas altera\u00e7\u00f5es a uma issue</p> <p>Lembre-se da issue que voc\u00ea criou anteriormente e seu respectivo n\u00famero, voc\u00ea o usar\u00e1 para vincular suas altera\u00e7\u00f5es atuais \u00e0 issue.</p> <pre><code>git add .\ngit commit -m \"$(printf 'Criar um jogo de tetris para impulsionar o engajamento do site\\n\\n-Adicionar revis\u00e3o de depend\u00eancias como verifica\u00e7\u00e3o de seguran\u00e7a\\n\\n- Resolve #&lt;N\u00daMERO-DA-ISSUE&gt;')\"\ngit push origin feature/tetris-game\n</code></pre> <p>Quando voc\u00ea navegar at\u00e9 o reposit\u00f3rio no GitHub e abrir o pull request existente, poder\u00e1 confirmar que a verifica\u00e7\u00e3o foi executada. Como n\u00e3o h\u00e1 viola\u00e7\u00f5es de conformidade atualmente no PR, a verifica\u00e7\u00e3o \u00e9 bem-sucedida.</p> <p></p> <p>Tarefa para casa</p> <p>Voc\u00ea consegue tentar fazer com que a verifica\u00e7\u00e3o de revis\u00e3o de depend\u00eancias falhe?</p>"},{"location":"exercises/02.secure.the.software.supply.chain/01/#recursos","title":"\ud83d\udcda Recursos","text":"<ul> <li>Entendendo sua cadeia de suprimentos de software</li> <li>GitHub Advanced Security - Gr\u00e1fico de Depend\u00eancias</li> </ul>"},{"location":"exercises/02.secure.the.software.supply.chain/02/","title":"Versionamento","text":"<p> Motiva\u00e7\u00e3o para Vers\u00f5es</p> <p>Um pull request representa uma \u00fanica agrega\u00e7\u00e3o de m\u00faltiplas mudan\u00e7as significativas (ou seja, commits). Ao colaborar em escala em uma equipe ou projeto grande, pull requests direcionados ao branch padr\u00e3o (produ\u00e7\u00e3o) podem ser ainda mais protegidos por uma fila de mesclagem para valida\u00e7\u00e3o adicional. Em qualquer caso, \u00e9 imperativo acompanhar as mudan\u00e7as agregadas introduzidas no branch padr\u00e3o, que serve como fonte b\u00e1sica para lan\u00e7amentos de produ\u00e7\u00e3o.</p> <p>Algumas vers\u00f5es podem eventualmente ser lan\u00e7adas, enquanto outras n\u00e3o. Al\u00e9m disso, uma vers\u00e3o lan\u00e7ada pode ser revertida para um lan\u00e7amento anterior conforme as decis\u00f5es de neg\u00f3cios evoluem.</p> <p></p>"},{"location":"exercises/02.secure.the.software.supply.chain/02/#exercicio-versionar-mudancas-adicionadas-ao-branch-principal","title":"Exerc\u00edcio: Versionar Mudan\u00e7as Adicionadas ao Branch Principal","text":"<p>Versionamento Sem\u00e2ntico, <code>semver</code>, \u00e9 um esquema que transmite significado sobre o c\u00f3digo subjacente e o que foi modificado de uma vers\u00e3o para a pr\u00f3xima.</p> <p>A vers\u00e3o <code>2.0.0</code> do <code>semver</code> \u00e9 oficialmente resumida da seguinte forma:</p> <p>Dado um n\u00famero de vers\u00e3o MAJOR.MINOR.PATCH, incremente o:</p> <ol> <li>N\u00famero de vers\u00e3o MAJOR quando fizer mudan\u00e7as incompat\u00edveis na API</li> <li>N\u00famero de vers\u00e3o MINOR quando adicionar funcionalidades de maneira compat\u00edvel com vers\u00f5es anteriores</li> <li>N\u00famero de vers\u00e3o PATCH quando fizer corre\u00e7\u00f5es de bugs compat\u00edveis com vers\u00f5es anteriores</li> </ol> <p>R\u00f3tulos adicionais para pr\u00e9-lan\u00e7amento e metadados de compila\u00e7\u00e3o est\u00e3o dispon\u00edveis como extens\u00f5es ao formato MAJOR.MINOR.PATCH.</p> <p>Nesta fase fundamental da implementa\u00e7\u00e3o de DevSecOps, aplicaremos o esquema <code>semver</code> e automatizaremos o incremento do patch. Existem conven\u00e7\u00f5es que podem ser adotadas para automatizar igualmente o incremento nas vers\u00f5es <code>MAJOR</code> e <code>MINOR</code>, mas para simplificar, nossa implementa\u00e7\u00e3o pretendida assume o entendimento de que os aumentos de vers\u00e3o <code>MAJOR</code> e <code>MINOR</code> ser\u00e3o iniciados manualmente.</p>"},{"location":"exercises/02.secure.the.software.supply.chain/02/#implementar-versionamento-de-patch","title":"Implementar Versionamento de <code>PATCH</code>","text":"<p>No explorador de arquivos, crie um novo fluxo de trabalho <code>.github/workflows/continuous.versioning.yml</code> da seguinte forma:</p> .github/workflows/continuous.versioning.yml<pre><code>name: Version Changes to the Main Branch\n\non:\n  push:\n    branches:\n      - main\n  workflow_dispatch: {}\n\njobs:\n  version-main-branch-changes:\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/create-github-app-token@v1\n        id: generate-app-token\n        with:\n          app-id: ${{ vars.APP_ID_ACTIONS_ASSISTANT }}\n          private-key: ${{ secrets.APP_PRIVATE_KEY_ACTIONS_ASSISTANT }}\n\n      - name: Checkout\n        uses: actions/checkout@v3\n        with:\n          fetch-depth: 0\n          token: ${{ steps.generate-app-token.outputs.token }}\n\n      - name: Get last version number\n        id: get_last_version\n        run: |\n          # Retrieve the last git tag, as we will only be processing one delivery line.\n          last_version=$(git describe --tags --abbrev=0 2&gt;/dev/null || echo \"0.0.0\")\n          echo \"Last version is $last_version\"\n          echo \"last_version=$last_version\" &gt;&gt; \"$GITHUB_OUTPUT\"\n\n      - name: Get new version number\n        id: get_new_version\n        run: |\n          major=$(echo $last_version | cut -d. -f1)\n          minor=$(echo $last_version | cut -d. -f2)\n          patch=$(echo $last_version | cut -d. -f3)\n\n          new_patch=$((patch+1))\n\n          new_version=\"$major.$minor.$new_patch\"\n\n          echo \"New version is $new_version\"\n          echo \"new_version=$new_version\" &gt;&gt; \"$GITHUB_OUTPUT\"\n        env:\n          last_version: ${{ steps.get_last_version.outputs.last_version }}\n\n      - name: Create tag for the new version\n        run: |\n          git config --global user.name \"${GITHUB_ACTOR}\"\n          git config --global user.email \"${GITHUB_ACTOR}@users.noreply.github.com\"\n\n          if git tag -a \"$new_version\" -m \"Version $new_version\"; then\n            git push --follow-tags origin \"$new_version\"\n          else\n            echo \"Failed to create tag $new_version, it probably already exists\"\n          fi\n        env:\n          new_version: ${{ steps.get_new_version.outputs.new_version }}-release\n</code></pre>"},{"location":"exercises/02.secure.the.software.supply.chain/02/#analise","title":"An\u00e1lise","text":"<ul> <li> <p>Linhas <code>4 - 6</code></p> <p>Somos introduzidos a um novo evento que encapsula a atividade de envio para branches espec\u00edficos, especificamente apenas o branch <code>main</code> nesta implementa\u00e7\u00e3o.</p> </li> <li> <p>Linhas <code>13 - 17</code></p> <p>Um GitHub App ser\u00e1 usado como o ator para as opera\u00e7\u00f5es que executaremos. Portanto, a a\u00e7\u00e3o <code>actions/create-github-app-token@v1</code> \u00e9 usada aqui para gerar um token de autoriza\u00e7\u00e3o para o aplicativo.</p> <p>O que \u00e9 um GitHub App?</p> <p>GitHub Apps, muito semelhantes a <code>contas de servi\u00e7o</code> e <code>bots</code>, s\u00e3o ferramentas que estendem a funcionalidade do GitHub. Voc\u00ea pode criar um GitHub App para fornecer flexibilidade e reduzir atrito em seus processos,  sem precisar fazer login como usu\u00e1rio ou criar uma conta de servi\u00e7o . GitHub Apps podem fazer coisas no GitHub como abrir issues, comentar em pull requests e gerenciar projetos. Eles tamb\u00e9m podem fazer coisas fora do GitHub com base em eventos que acontecem no GitHub. Por exemplo, um GitHub App pode postar no Slack quando uma issue \u00e9 aberta no GitHub.</p> <p>O ator GitHub App ser\u00e1 usado posteriormente para fazer checkout do c\u00f3digo-fonte do reposit\u00f3rio e para enviar tags.</p> </li> <li> <p>Linhas <code>25 - 31</code></p> <p>A etapa <code>Get last version number</code> (Obter \u00faltimo n\u00famero de vers\u00e3o) calcula a \u00faltima vers\u00e3o e a escreve na sa\u00edda da etapa chamada <code>last_version</code>.</p> </li> <li> <p>Linhas <code>33 - 47</code></p> <p>A etapa <code>Get new version number</code> (Obter novo n\u00famero de vers\u00e3o) l\u00ea a sa\u00edda da etapa anterior pela express\u00e3o <code>${{ steps.get_last_version.outputs.last_version }}</code> e a usa para calcular o incremento do patch.</p> </li> <li> <p>Linhas <code>49 - 60</code></p> <p>A etapa <code>Create tag for the new version</code> (Criar tag para a nova vers\u00e3o) cria uma nova tag <code>git</code> para o lan\u00e7amento. Uma tag identifica pontos espec\u00edficos no hist\u00f3rico de um reposit\u00f3rio como sendo importantes. Aqui, a tag est\u00e1 sendo usada para marcar um ponto de lan\u00e7amento.</p> <p>Como existe um token de aplicativo persistente que ser\u00e1 usado no envio da tag, podemos ter confian\u00e7a de que o envio acionar\u00e1 efetivamente outras automa\u00e7\u00f5es relevantes. Por outro lado, se o <code>GITHUB_TOKEN</code> padr\u00e3o fosse usado, ele n\u00e3o acionaria um fluxo de trabalho, pois  GitHub Actions corretamente protege contra o acionamento recursivo n\u00e3o intencional de fluxos de trabalho .</p> </li> </ul>"},{"location":"exercises/02.secure.the.software.supply.chain/02/#fazer-commit-e-publicar-suas-alteracoes","title":"Fazer commit e publicar suas altera\u00e7\u00f5es","text":"<p>Voc\u00ea pode vincular suas altera\u00e7\u00f5es a uma issue</p> <p>Lembre-se da issue que voc\u00ea criou anteriormente e seu respectivo n\u00famero, voc\u00ea o usar\u00e1 para vincular suas altera\u00e7\u00f5es atuais \u00e0 issue.</p> <pre><code>git add .\ngit commit -m \"$(printf 'Criar um jogo de tetris para impulsionar o engajamento do site\\n\\n-Implementar versionamento autom\u00e1tico de patch\\n\\n- Resolve #&lt;N\u00daMERO-DA-ISSUE&gt;')\"\ngit push origin feature/tetris-game\n</code></pre>"},{"location":"exercises/02.secure.the.software.supply.chain/02/#recursos","title":"\ud83d\udcda Recursos","text":"<ul> <li>Versionamento Sem\u00e2ntico 2.0.0</li> </ul>"},{"location":"exercises/03.automate.release/","title":"Automatizar Implanta\u00e7\u00e3o de Lan\u00e7amentos","text":"<p>Implanta\u00e7\u00e3o Cont\u00ednua</p> <p>Implanta\u00e7\u00e3o cont\u00ednua (CD) \u00e9 a pr\u00e1tica de usar automa\u00e7\u00e3o para publicar e implantar atualiza\u00e7\u00f5es de software. Como parte do processo t\u00edpico de CD, o c\u00f3digo \u00e9 automaticamente compilado e testado antes da implanta\u00e7\u00e3o.</p> <p>A implanta\u00e7\u00e3o cont\u00ednua \u00e9 frequentemente acoplada com a integra\u00e7\u00e3o cont\u00ednua que vimos anteriormente. Com base no progresso dos exerc\u00edcios anteriores, aplicaremos a mentalidade de implanta\u00e7\u00e3o cont\u00ednua cumprindo os seguintes objetivos.</p>"},{"location":"exercises/03.automate.release/#objetivos","title":"Objetivos","text":"<ul> <li> Validar lan\u00e7amentos</li> <li> Executar implanta\u00e7\u00f5es em produ\u00e7\u00e3o ap\u00f3s valida\u00e7\u00e3o bem-sucedida dos respectivos lan\u00e7amentos</li> </ul>"},{"location":"exercises/03.automate.release/01/","title":"Lan\u00e7amento de Vers\u00e3o","text":"<p> Lan\u00e7amento</p> <p>\u00c0 medida que fluxos de mudan\u00e7as chegam ao branch de produ\u00e7\u00e3o e s\u00e3o versionados em lotes, uma parte essencial da entrega/implanta\u00e7\u00e3o cont\u00ednua \u00e9 produzir artefatos a partir de vers\u00f5es que podem ent\u00e3o ser implantados em v\u00e1rios destinos.</p> <p>Lan\u00e7amentos s\u00e3o itera\u00e7\u00f5es de software implant\u00e1veis que voc\u00ea pode empacotar e disponibilizar para um p\u00fablico mais amplo baixar e usar.</p> <p>Como determinamos quando criar um lan\u00e7amento? Vamos ver...</p> <p></p>"},{"location":"exercises/03.automate.release/01/#exercicio-criar-um-lancamento-de-versoes","title":"Exerc\u00edcio: Criar um Lan\u00e7amento de Vers\u00f5es","text":"<p>Como voc\u00ea j\u00e1 pode imaginar, o GitHub fornece um evento que encapsula a atividade de criar uma tag e envi\u00e1-la para um reposit\u00f3rio. Vamos automatizar o tratamento de tais eventos, para que possamos criar um lan\u00e7amento quando necess\u00e1rio.</p>"},{"location":"exercises/03.automate.release/01/#implementar-criacao-de-lancamento","title":"Implementar Cria\u00e7\u00e3o de Lan\u00e7amento","text":"<p>No explorador de arquivos, crie um novo fluxo de trabalho <code>.github/workflows/continuous.delivery.yml</code> da seguinte forma:</p> .github/workflows/continuous.delivery.yml<pre><code>name: Package Delivery Artifacts &amp; Create Release\n\non:\n  push:\n    tags:\n      - \"*-release\"\n\npermissions:\n  contents: write\n\nenv:\n  CI: true\n  SITE_DIR: site\n\njobs:\n  package-delivery:\n    runs-on: ubuntu-latest\n    steps:\n      - name: Checkout\n        uses: actions/checkout@v4\n\n      - uses: actions/setup-python@v4\n        with:\n          python-version: 3.12\n      - name: Install Python dependencies\n        run: |\n          python -m pip install --upgrade pip\n          pip install -r requirements.txt\n      - name: Build Site\n        run: |\n          python -m mkdocs build --clean --strict --verbose --site-dir '${{ env.SITE_DIR }}'\n      - name: Archive Site\n        run: |\n          zip -r ${{ env.SITE_DIR }}.zip ${{ env.SITE_DIR }}\n      - run: |\n          echo \"Site directory ${{ env.SITE_DIR }} content:\"\n          ls -al ${{ env.SITE_DIR }}\n\n      - uses: actions/create-github-app-token@v1\n        id: generate-app-token\n        with:\n          app-id: ${{ vars.APP_ID_ACTIONS_ASSISTANT }}\n          private-key: ${{ secrets.APP_PRIVATE_KEY_ACTIONS_ASSISTANT }}\n\n      - name: Draft release\n        uses: actions/github-script@v6\n        id: draft-release\n        with:\n          github-token: ${{ steps.generate-app-token.outputs.token }}\n          script: |\n\n            const response = await github.request(\n              'POST /repos/{owner}/{repo}/releases',\n              {\n                owner: context.repo.owner,\n                repo: context.repo.repo,\n                draft: true,\n                tag_name: '${{ github.ref }}',\n                discussion_category_name: 'announcements',\n                generate_release_notes: true,\n                make_latest: 'legacy',\n                headers: {\n                  'X-GitHub-Api-Version': '2022-11-28'\n                }\n              }\n            );\n\n            console.dir(response);\n\n            return response.data.id;\n\n      - name: Upload release asset\n        run: |\n          curl -L \\\n            -X POST \\\n            -H \"Accept: application/vnd.github+json\" \\\n            -H \"Authorization: Bearer ${{ steps.generate-app-token.outputs.token }}\" \\\n            -H \"X-GitHub-Api-Version: 2022-11-28\" \\\n            -H \"Content-Type: application/octet-stream\" \\\n            \"https://uploads.github.com/repos/${{ github.repository }}/releases/${{ steps.draft-release.outputs.result }}/assets?name=${{ env.SITE_DIR }}.zip\" \\\n            --data-binary \"@${{ env.SITE_DIR }}.zip\"\n\n      - name: Publish release\n        uses: actions/github-script@v6\n        id: publish-release\n        with:\n          github-token: ${{ steps.generate-app-token.outputs.token }}\n          script: |\n\n            const response = await github.request(\n              'PATCH /repos/{owner}/{repo}/releases/{release_id}',\n              {\n                owner: context.repo.owner,\n                repo: context.repo.repo,\n                release_id: ${{ steps.draft-release.outputs.result }},\n                draft: false,\n                discussion_category_name: 'announcements',\n                make_latest: 'true',\n                headers: {\n                  'X-GitHub-Api-Version': '2022-11-28'\n                }\n              }\n            );\n\n            console.dir(response);\n</code></pre>"},{"location":"exercises/03.automate.release/01/#analise","title":"An\u00e1lise","text":"<ul> <li> <p>Linhas <code>3 - 6</code></p> <p>O fluxo de trabalho de cria\u00e7\u00e3o de lan\u00e7amento ser\u00e1 acionado por envios de tags e quando a vers\u00e3o da tag enviada tiver o sufixo de metadados <code>-release</code>.</p> </li> <li> <p>Linhas <code>29 - 34</code></p> <p>Nos dois passos inclu\u00eddos aqui, o site \u00e9 compilado e arquivado como um artefato de lan\u00e7amento.</p> </li> <li> <p>Linhas <code>39 - 43</code></p> <p>Um GitHub App ser\u00e1 usado como o ator para as opera\u00e7\u00f5es que executaremos. Portanto, a a\u00e7\u00e3o <code>actions/create-github-app-token@v1</code> \u00e9 usada aqui para gerar um token de autoriza\u00e7\u00e3o para o aplicativo.</p> <p>O que \u00e9 um GitHub App?</p> <p>GitHub Apps, muito semelhantes a <code>contas de servi\u00e7o</code> e <code>bots</code>, s\u00e3o ferramentas que estendem a funcionalidade do GitHub. Voc\u00ea pode criar um GitHub App para fornecer flexibilidade e reduzir atrito em seus processos,  sem precisar fazer login como usu\u00e1rio ou criar uma conta de servi\u00e7o . GitHub Apps podem fazer coisas no GitHub como abrir issues, comentar em pull requests e gerenciar projetos. Eles tamb\u00e9m podem fazer coisas fora do GitHub com base em eventos que acontecem no GitHub. Por exemplo, um GitHub App pode postar no Slack quando uma issue \u00e9 aberta no GitHub.</p> <p>Quando voc\u00ea usa o <code>GITHUB_TOKEN</code> do reposit\u00f3rio para executar tarefas, eventos acionados pelo <code>GITHUB_TOKEN</code>, com exce\u00e7\u00e3o de workflow_dispatch e repository_dispatch, n\u00e3o criar\u00e3o uma nova execu\u00e7\u00e3o de fluxo de trabalho. Isso evita que voc\u00ea crie acidentalmente execu\u00e7\u00f5es de fluxo de trabalho recursivas. Por exemplo, se uma execu\u00e7\u00e3o de fluxo de trabalho envia c\u00f3digo usando o <code>GITHUB_TOKEN</code> do reposit\u00f3rio, um novo fluxo de trabalho n\u00e3o ser\u00e1 executado mesmo quando o reposit\u00f3rio cont\u00e9m um fluxo de trabalho configurado para ser executado quando ocorrerem eventos de push.</p> <p>~ Usando o GITHUB_TOKEN em um fluxo de trabalho</p> <p>Portanto, estamos autorizando opera\u00e7\u00f5es como um GitHub App para permitir que a execu\u00e7\u00e3o da opera\u00e7\u00e3o acione ainda mais execu\u00e7\u00f5es de fluxo de trabalho, possivelmente.</p> </li> <li> <p>Linhas <code>45 - 70</code></p> <p>Um lan\u00e7amento <code>rascunho</code> \u00e9 criado pela respectiva etapa, permitindo a modifica\u00e7\u00e3o do lan\u00e7amento antes de public\u00e1-lo. O lan\u00e7amento faz refer\u00eancia \u00e0 tag que acionou o fluxo de trabalho.</p> </li> <li> <p>Linhas <code>72 - 81</code></p> <p>Esta etapa aproveita a API ReST do GitHub para ajustar o rascunho de lan\u00e7amento criado anteriormente, especificamente adicionando o arquivo arquivado criado na etapa <code>Archive Site</code> ao lan\u00e7amento como um ativo.</p> </li> <li> <p>Linhas <code>83 - 105</code></p> <p>Tendo rascunhado o lan\u00e7amento e anexado ativos implant\u00e1veis a ele, a etapa <code>Publish release</code> finalmente publica o lan\u00e7amento alterando o estado do atributo <code>draft</code> para <code>false</code>.</p> </li> </ul>"},{"location":"exercises/03.automate.release/01/#fazer-commit-e-publicar-suas-alteracoes","title":"Fazer commit e publicar suas altera\u00e7\u00f5es","text":"<p>Voc\u00ea pode vincular suas altera\u00e7\u00f5es a uma issue</p> <p>Lembre-se da issue que voc\u00ea criou anteriormente e seu respectivo n\u00famero, voc\u00ea o usar\u00e1 para vincular suas altera\u00e7\u00f5es atuais \u00e0 issue.</p> <pre><code>git add .\ngit commit -m \"$(printf 'Criar um jogo de tetris para impulsionar o engajamento do site\\n\\n-Implementar automa\u00e7\u00e3o de lan\u00e7amento\\n\\n- Resolve #&lt;N\u00daMERO-DA-ISSUE&gt;')\"\ngit push origin feature/tetris-game\n</code></pre>"},{"location":"exercises/03.automate.release/01/#recursos","title":"\ud83d\udcda Recursos","text":"<ul> <li>Documenta\u00e7\u00e3o do GitHub Apps</li> <li>Documenta\u00e7\u00e3o da API REST do GitHub</li> <li>GitHub Packages</li> </ul>"},{"location":"exercises/03.automate.release/02/","title":"Implanta\u00e7\u00e3o Cont\u00ednua","text":"<p> Entregar valor de alta qualidade com velocidade</p> <p>Implanta\u00e7\u00e3o cont\u00ednua (CD) \u00e9 a pr\u00e1tica de usar automa\u00e7\u00e3o para publicar e implantar atualiza\u00e7\u00f5es de software.</p> <p>Para cumprir plenamente nosso objetivo no desenvolvimento completo do recurso, aplicamos em conjunto a pr\u00e1tica de implanta\u00e7\u00e3o cont\u00ednua para validar e entregar valor aos nossos clientes com alta velocidade.</p> <p></p>"},{"location":"exercises/03.automate.release/02/#exercicio-automatizar-implantacao-de-lancamentos","title":"Exerc\u00edcio: Automatizar Implanta\u00e7\u00e3o de Lan\u00e7amentos","text":"<p>O exerc\u00edcio anterior nos guiou atrav\u00e9s da automa\u00e7\u00e3o da publica\u00e7\u00e3o de lan\u00e7amentos. Vamos continuar a construir sobre esse marco para automatizar a implanta\u00e7\u00e3o dos lan\u00e7amentos publicados.</p>"},{"location":"exercises/03.automate.release/02/#implementar-fluxo-de-trabalho-de-implantacao","title":"Implementar Fluxo de Trabalho de Implanta\u00e7\u00e3o","text":"<p>No explorador de arquivos, crie um novo fluxo de trabalho <code>.github/workflows/continuous.deployment.yml</code> da seguinte forma:</p> .github/workflows/continuous.deployment.yml<pre><code>name: Deploy Release\n\non:\n  release:\n    types:\n      - released\n\nconcurrency:\n  group: github-pages\n  cancel-in-progress: false\n\npermissions:\n  contents: write\n  deployments: write\n  pages: write\n  id-token: write\n\nenv:\n  CI: true\n  SITE_DIR: site\n\njobs:\n  deploy:\n    runs-on: ubuntu-latest\n    environment:\n      name: github-pages\n      url: ${{ steps.deployment.outputs.page_url }}\n\n    steps:\n      - uses: actions/create-github-app-token@v1\n        id: generate-app-token\n        with:\n          app-id: ${{ vars.APP_ID_ACTIONS_ASSISTANT }}\n          private-key: ${{ secrets.APP_PRIVATE_KEY_ACTIONS_ASSISTANT }}\n\n      - name: Setup Pages\n        uses: actions/configure-pages@v3\n        with:\n          enablement: \"true\"\n          token: \"${{ steps.generate-app-token.outputs.token }}\"\n\n      - name: Download release asset\n        id: download-release-asset\n        run: |\n          cat &lt;&lt; 'EOF' &gt; event.json\n          ${{ toJson(github.event) }}\n          EOF\n          asset_id=$(cat event.json | jq '.release.assets[] | select(.name == \"${{ env.SITE_DIR }}.zip\") | .id')\n\n          curl --location --output '${{ env.SITE_DIR }}.zip'                          \\\n            -H \"Accept: application/octet-stream\"                                     \\\n            -H \"Authorization: Bearer ${{ steps.generate-app-token.outputs.token }}\"  \\\n            -H \"X-GitHub-Api-Version: 2022-11-28\"                                     \\\n            \"https://api.github.com/repos/${{ github.repository }}/releases/assets/${asset_id}\"\n\n          unzip -o \"${{ env.SITE_DIR }}.zip\" -d .\n\n          echo '##### Debug'\n          ls -al \"${{ env.SITE_DIR }}\"\n\n      - name: Fix site file permissions\n        run: |\n          chmod -c -R +rX \"${{ env.SITE_DIR }}/\" | while read line; do\n            echo \"::warning title=Invalid file permissions automatically fixed::$line\"\n          done\n\n      - name: Upload Pages artifact\n        uses: actions/upload-pages-artifact@v2\n        with:\n          path: \"${{ env.SITE_DIR }}\"\n          retention-days: \"2\"\n\n      - name: Deploy to GitHub Pages\n        id: deployment\n        uses: actions/deploy-pages@v2\n        with:\n          token: ${{ steps.generate-app-token.outputs.token }}\n</code></pre>"},{"location":"exercises/03.automate.release/02/#analise","title":"An\u00e1lise","text":"<ul> <li> <p>Linhas <code>3 - 6</code></p> <p>As implanta\u00e7\u00f5es ser\u00e3o acionadas no evento de uma publica\u00e7\u00e3o de lan\u00e7amento.</p> </li> <li> <p>Linhas <code>8 - 10</code></p> <p>Garante que apenas um \u00fanico trabalho ou fluxo de trabalho usando o mesmo grupo de concorr\u00eancia ser\u00e1 executado por vez.</p> <p>Quando um trabalho ou fluxo de trabalho concorrente \u00e9 enfileirado, se outro trabalho ou fluxo de trabalho que usa o mesmo grupo de concorr\u00eancia no reposit\u00f3rio estiver em andamento, o trabalho ou fluxo de trabalho enfileirado ficar\u00e1 pendente. Qualquer trabalho ou fluxo de trabalho anteriormente pendente no grupo de concorr\u00eancia ser\u00e1 cancelado. Se voc\u00ea n\u00e3o deseja cancelar tamb\u00e9m nenhum trabalho ou fluxo de trabalho em execu\u00e7\u00e3o no mesmo grupo de concorr\u00eancia, especifique <code>cancel-in-progress: false</code>.</p> </li> <li> <p>Linhas <code>25 - 27</code></p> <p>Isso far\u00e1 com que a URL do site implantado seja exibida onde o fluxo de trabalho \u00e9 executado.</p> </li> <li> <p>Linhas <code>36 - 40</code></p> <p>Esta etapa habilita o GitHub Pages e extrai v\u00e1rios metadados sobre um site. Ela tamb\u00e9m pode ser usada para configurar v\u00e1rios geradores de sites est\u00e1ticos que suportamos como fluxos de trabalho iniciais.</p> </li> <li> <p>Linhas <code>42 - 65</code></p> <p>Baixa os ativos associados \u00e0 publica\u00e7\u00e3o de lan\u00e7amento que acionou este fluxo de trabalho e, quando necess\u00e1rio, ajusta as permiss\u00f5es para os arquivos nos ativos.</p> </li> <li> <p>Linhas <code>67 - 71</code></p> <p>Carrega os artefatos do site para o local de armazenamento onde devem ser finalmente coletados pela pr\u00f3xima etapa para implanta\u00e7\u00e3o.</p> </li> <li> <p>Linhas <code>73 - 77</code></p> <p>Esta etapa implanta o site.</p> </li> </ul>"},{"location":"exercises/03.automate.release/02/#fazer-commit-e-publicar-suas-alteracoes","title":"Fazer commit e publicar suas altera\u00e7\u00f5es","text":"<p>Voc\u00ea pode vincular suas altera\u00e7\u00f5es a uma issue</p> <p>Lembre-se da issue que voc\u00ea criou anteriormente e seu respectivo n\u00famero, voc\u00ea o usar\u00e1 para vincular suas altera\u00e7\u00f5es atuais \u00e0 issue.</p> <pre><code>git add .\ngit commit -m \"$(printf 'Criar um jogo de tetris para impulsionar o engajamento do site\\n\\n-Implementar implanta\u00e7\u00e3o cont\u00ednua\\n\\n- Resolve #&lt;N\u00daMERO-DA-ISSUE&gt;')\"\ngit push origin feature/tetris-game\n</code></pre>"},{"location":"exercises/03.automate.release/02/#mesclar-seu-pull-request-aberto","title":"Mesclar seu pull request aberto","text":"<ul> <li> <p>Na p\u00e1gina do pull request, abra o menu suspenso do bot\u00e3o Mesclar pull request  para escolher a op\u00e7\u00e3o Rebase e mesclar.</p> </li> <li> <p>Em seguida, pressione o bot\u00e3o Rebase e mesclar  para mesclar seu pull request.</p> <p></p> </li> <li> <p>Finalmente, pressione Confirmar rebase e mesclagem.</p> </li> </ul> <p>Quando voc\u00ea mescla o pull request aberto, deve fazer as seguintes observa\u00e7\u00f5es.</p> <p>Colabora\u00e7\u00e3o</p> <ul> <li> <p>A issue vinculada em seu quadro de projeto \u00e9 automaticamente fechada e movida para a coluna \u2705 Conclu\u00eddo do quadro.</p> <p></p> </li> </ul> <p>Automa\u00e7\u00e3o</p> <p>Quando voc\u00ea vai para a aba  Actions em seu reposit\u00f3rio, e observa...</p> <ul> <li>O fluxo de trabalho <code>Version Changes to the Main Branch</code> \u00e9 executado.</li> <li> <p>O fluxo de trabalho <code>Package Delivery Artifacts &amp; Create Release</code> \u00e9 executado.</p> <p>Consequentemente, o lan\u00e7amento \u00e9 anunciado em  Discuss\u00f5es. </p> </li> <li> <p>O fluxo de trabalho <code>Deploy Release</code> \u00e9 executado.</p> <p>E na conclus\u00e3o bem-sucedida do fluxo de trabalho, a URL p\u00fablica do seu site \u00e9 exibida no trabalho.</p> <p></p> </li> </ul> <p>Capacita\u00e7\u00e3o de Partes Interessadas</p> <p>As partes interessadas podem facilmente explorar implanta\u00e7\u00f5es do projeto.</p> <ul> <li> <p>Resumo de implanta\u00e7\u00f5es na p\u00e1gina inicial do reposit\u00f3rio.</p> <p></p> </li> <li> <p>Lista detalhada de ambientes de implanta\u00e7\u00e3o.</p> <p></p> </li> </ul>"},{"location":"exercises/03.automate.release/02/#recursos","title":"\ud83d\udcda Recursos","text":"<ul> <li>Usando ambientes para implanta\u00e7\u00e3o</li> <li>Criando regras de prote\u00e7\u00e3o de implanta\u00e7\u00e3o personalizadas</li> <li>Fortalecimento de seguran\u00e7a de implanta\u00e7\u00f5es com OpenID Connect</li> </ul>"},{"location":"exercises/recap/","title":"Revis\u00e3o dos Resultados do Workshop","text":"<p>At\u00e9 agora, alcan\u00e7amos os seguintes marcos, aprendendo a:</p> <ul> <li> Rastrear trabalho no GitHub</li> <li> Integrar-se rapidamente a um projeto existente</li> <li> Trabalhar de maneira colaborativa e permitir a incorpora\u00e7\u00e3o r\u00e1pida de feedbacks</li> <li> Proteger eficientemente a cadeia de suprimentos de software, detectando vulnerabilidades e depend\u00eancias n\u00e3o conformes \u00e0 medida que s\u00e3o introduzidas</li> <li> Automatizar o versionamento</li> <li> Automatizar lan\u00e7amentos</li> <li> Implementar implanta\u00e7\u00e3o cont\u00ednua</li> </ul>"}]}